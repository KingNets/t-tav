<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Videography Portfolio</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Montserrat:wght@300;600&display=swap" rel="stylesheet">
    <style>
    .video-thumbnail {
        position: relative;
        width: 350px;
        height: 200px;
        background: #222;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 12px;
        overflow: hidden;
    }
    .video-thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
    .play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 64px;
        height: 64px;
        background: rgba(0,0,0,0.6);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .play-button:after {
        content: '';
        display: block;
        width: 0;
        height: 0;
        border-left: 28px solid #fff;
        border-top: 16px solid transparent;
        border-bottom: 16px solid transparent;
        margin-left: 8px;
    }
    </style>
</head>
<body>
    <div class="futuristic-bg"></div>
    <!-- Dramatic Intro Overlay -->
    <div id="intro-overlay" class="intro-fullscreen">
        <div class="intro-video-wrapper">
            <button id="sound-toggle" class="intro-left-button">üîä Aktiveeri heli</button>
            <button id="skip-intro" class="skip-button">Portfooliosse</button>
            <video 
                id="intro-video" 
                autoplay 
                playsinline 
                preload="auto"
                class="intro-video"
                muted
            >
                <source src="intro.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="intro-overlay-content">
                <div id="reydan-text" class="reveal-text hidden">Reydan Videograafia</div>
            </div>
        </div>
    </div>
    <div id="main-content" class="portfolio-container futuristic-glow hidden">
        <header class="futuristic-header">
            <h1><span class="neon-text">Reydan Videograafia</span></h1>
        </header>
        <div class="card-grid">
            <!-- YouTube: Martin Himma x FC Flora x Optibet -->
            <div class="futuristic-card">
            <h2 class="neon-text">YouTube: Martin Himma x FC Flora x Optibet</h2>
            <iframe width="350" height="200" src="https://www.youtube.com/embed/GMqnadlVxIo?start=373" allowfullscreen class="video-frame" title="Martin Himma x FC Flora x Optibet"></iframe>
            <div class="video-tags">
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- YouTube: Reydan Viidas - Videography Portfolio -->
            <div class="futuristic-card">
            <h2 class="neon-text">YouTube: Drivers Club</h2>
            <iframe
            width="350"
            height="200"
            src="https://www.youtube.com/embed/VuaBv8P1rOQ?start=6"
            allowfullscreen
            class="video-frame"
            title="Reydan Viidas - Videography Portfolio"
            ></iframe>
            <div class="video-tags">
            <span class="check filmed">&#10003; Filmitud</span>
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- YouTube: Riina Rannam√§gi -->
            <div class="futuristic-card">
            <h2 class="neon-text">Kinnisvara virtuaaltuur</h2>
            <iframe
            width="350"
            height="200"
            src="https://www.youtube.com/embed/_bK65VSwTdU"
            allowfullscreen
            class="video-frame"
            title="Riina Rannam√§gi"
            ></iframe>
            <div class="video-tags">
            <span class="check filmed">&#10003; Filmitud</span>
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- YouTube: Drivers Club -->
            <div class="futuristic-card">
            <h2 class="neon-text">Drivers Club Hooaja avamine</h2>
            <iframe
            width="350"
            height="200"
            src="https://www.youtube.com/embed/3LDADU0Xro0?start=2"
            allowfullscreen
            class="video-frame"
            title="Drivers Club"
            ></iframe>
            <div class="video-tags">
            <span class="check filmed">&#10003; Filmitud</span>
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- Instagram: Portfolio Reel 1 -->
            <div class="futuristic-card">
            <h2 class="neon-text">Arco Vara kinnisvarab√ºroo x Landen kinnisvara</h2>
            <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DMKASBeNUfm/" data-instgrm-version="14"></blockquote>
            <div class="video-tags">
            <span class="check filmed">&#10003; Filmitud</span>
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- Instagram: Portfolio Reel 2 -->
            <div class="futuristic-card">
            <h2 class="neon-text">Virtuaaltuur ft. Joshua James Viinalass</h2>
            <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/p/DE-Wm-KuHaF/" data-instgrm-version="14"></blockquote>
            <div class="video-tags">
            <span class="check filmed">&#10003; Filmitud</span>
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- Google Drive: Epic Racing Film (lazy) -->
            <div class="futuristic-card">
            <h2 class="neon-text">Ferati</h2>
            <div class="video-thumbnail" data-iframe='<iframe width="350" height="200" src="https://drive.google.com/file/d/1qbSd3dgpzTJ_1SRkTOXMn_2zW3t7o5-X/preview" allowfullscreen class="video-frame" title="Epic Racing Film"></iframe>'>
                <img src="ferati-thumb.jpg" alt="Ferati thumbnail" />
                <div class="play-button"></div>
            </div>
            <div class="video-tags">
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- Google Drive: New Racing Film (lazy) -->
            <div class="futuristic-card">
            <h2 class="neon-text">Martin Himma x Optibet</h2>
            <div class="video-thumbnail" data-iframe='<iframe width="350" height="200" src="https://drive.google.com/file/d/1cAu7W8-6GyQdGOaoKxW_L95Yna6ybDNp/preview" allowfullscreen class="video-frame" title="Racing Film 2"></iframe>'>
                <img src="himma-thumb.jpg" alt="Martin Himma x Optibet thumbnail" />
                <div class="play-button"></div>
            </div>
            <div class="video-tags">
            <span class="check edited">&#10003; Montaa≈æ</span>
            </div>
            </div>
            <!-- Intro Video Portfolio Card -->
            <div class="futuristic-card intro-video-card intro-video-grid-span">
                <h2 class="neon-text">V√µta √ºhendust!</h2>
                <div class="intro-video-wrapper-portfolio">
                    <video width="600" height="340" controls class="intro-portfolio-video">
                        <source src="intro.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="intro-video-description" style="margin-bottom:0;">
                    <p style="font-size:1.2rem;color:#26d0ce;margin:1.5rem 0 0 0;">Contact: <a href="mailto:steneerik.valliste@gmail.com" class="neon-link">steneerik.valliste@gmail.com</a></p>
                </div>
            </div>
        </div>
        <footer class="futuristic-footer">
        </footer>
    </div>
    <script async src="//www.instagram.com/embed.js"></script>
    <script>
// Autoplay intro video on mute when scrolled into view
(function() {
    document.addEventListener('DOMContentLoaded', function() {
        var introPortfolioVideo = document.querySelector('.intro-portfolio-video');
        if (introPortfolioVideo) {
            introPortfolioVideo.muted = true;
            var observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        introPortfolioVideo.play();
                    } else {
                        introPortfolioVideo.pause();
                    }
                });
            }, { threshold: 0.5 });
            observer.observe(introPortfolioVideo);
        }
    });
})();

// Overlay JS logic
(function() {
    document.addEventListener('DOMContentLoaded', function() {
        const introVideo = document.getElementById('intro-video');
        const introOverlay = document.getElementById('intro-overlay');
        const mainContent = document.getElementById('main-content');
        const reydanText = document.getElementById('reydan-text');
        const soundToggleButton = document.getElementById('sound-toggle');
        const skipButton = document.getElementById('skip-intro');
        let portfolioRevealed = false;
        let revealTimeout;

        // Sound toggle button always visible
        if (soundToggleButton && introVideo) {
            function updateSoundButton() {
                if (introVideo.muted) {
                    soundToggleButton.textContent = 'üîä Aktiveeri heli';
                } else {
                    soundToggleButton.textContent = 'üîá Keela heli';
                }
            }
            introVideo.muted = true;
            soundToggleButton.onclick = function() {
                introVideo.muted = !introVideo.muted;
                updateSoundButton();
                introVideo.play();
            };
            updateSoundButton();
        }

        // Force video to play with sound
        introVideo.play().catch(function(error) {
            introVideo.muted = true;
            introVideo.play();
        });

        function revealPortfolio() {
            if (portfolioRevealed) return;
            portfolioRevealed = true;
            reydanText.style.opacity = '1';
            reydanText.style.transform = 'translate(-50%, -50%) scale(1)';
            setTimeout(() => {
                introOverlay.style.opacity = '0';
                introOverlay.style.transition = 'opacity 1.2s ease-in-out';
                setTimeout(() => {
                    introOverlay.style.display = 'none';
                    mainContent.classList.remove('hidden');
                    mainContent.style.opacity = '0';
                    mainContent.style.display = 'block';
                    requestAnimationFrame(() => {
                        mainContent.style.opacity = '1';
                        mainContent.style.transition = 'opacity 1.2s ease-in-out';
                    });
                }, 1200);
            }, 500);
        }

        function revealReydanText() {
            reydanText.classList.remove('hidden');
            reydanText.classList.add('cinematic-reveal');
            reydanText.style.opacity = '1';
            reydanText.style.zIndex = '100000';
        }

        revealTimeout = setTimeout(revealPortfolio, 14500);
        setTimeout(revealReydanText, 13000);
        introVideo.addEventListener('ended', revealPortfolio);

        if (skipButton) {
            skipButton.addEventListener('click', function() {
                var unmuteButton = document.querySelector('.unmute-button');
                if (unmuteButton) {
                    unmuteButton.remove();
                }
                revealPortfolio();
                introVideo.pause();
                introVideo.currentTime = 0;
                introOverlay.style.display = 'none';
                mainContent.classList.remove('hidden');
                mainContent.style.opacity = '0';
                mainContent.style.display = 'block';
                requestAnimationFrame(() => {
                    mainContent.style.opacity = '1';
                    mainContent.style.transition = 'opacity 1.2s ease-in-out';
                });
            });
        }

        // Disable intro video after 30 seconds
        setTimeout(function() {
            if (introVideo) {
                introVideo.pause();
                introVideo.style.display = 'none';
            }
        }, 30000);
    });
})();

// Lazy-load Google Drive iframes on click
(function() {
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.video-thumbnail').forEach(function(thumb) {
            thumb.addEventListener('click', function() {
                if (thumb.dataset.iframe) {
                    thumb.outerHTML = thumb.dataset.iframe;
                }
            });
        });
    });
})();
    </script>
</body>
</html>
